<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ¨çº¿åœ†è§’å›¾ç‰‡ç”Ÿæˆå™¨ - å…è´¹åˆ¶ä½œåœ†è§’å›¾ç‰‡</title>
    <meta name="description" content="å…è´¹åœ¨çº¿åœ†è§’å›¾ç‰‡ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒè‡ªå®šä¹‰åœ†è§’åº¦æ•°ï¼Œå¯å¿«é€Ÿå°†æ™®é€šå›¾ç‰‡è½¬æ¢ä¸ºåœ†è§’å›¾ç‰‡å¹¶ä¸‹è½½ã€‚æ“ä½œç®€å•ï¼Œæ— éœ€æ³¨å†Œã€‚">
    <meta name="keywords" content="åœ†è§’å›¾ç‰‡,åœ¨çº¿ç”Ÿæˆ,å›¾ç‰‡å¤„ç†,åœ†è§’å¤´åƒ,å›¾ç‰‡åœ†è§’å·¥å…·">
    <link rel="canonical" href="https://round.jinshi.group">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q86594WSKV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-Q86594WSKV');
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            color: white;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .main-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .tool-section {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }

        .upload-section {
            flex: 1;
            min-width: 300px;
        }

        .preview-section {
            flex: 1;
            min-width: 300px;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #333;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-area:hover {
            border-color: #667eea;
            background: #f9f9ff;
        }

        .upload-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .controls {
            margin-top: 20px;
        }

        .control-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        input[type="range"] {
            width: 100%;
        }

        .value-display {
            display: inline-block;
            width: 50px;
            text-align: center;
            font-weight: bold;
            color: #667eea;
        }

        .preview-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .preview-box {
            width: 100%;
            height: 300px;
            border: 1px solid #eee;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 20px;
            background: #f9f9f9;
        }

        .preview-image {
            display: none;
        }

        .actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .instructions {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .steps {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .step {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            border-radius: 10px;
            background: #f9f9ff;
        }

        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
        }

        footer {
            text-align: center;
            color: white;
            padding: 30px 0;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .tool-section {
                flex-direction: column;
            }

            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>åœ¨çº¿åœ†è§’å›¾ç‰‡ç”Ÿæˆå™¨</h1>
            <p class="subtitle">å…è´¹å°†æ‚¨çš„å›¾ç‰‡è½¬æ¢ä¸ºåœ†è§’æ ·å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰åœ†è§’åº¦æ•°</p>
        </header>

        <main>
            <section class="main-content">
                <div class="tool-section">
                    <div class="upload-section">
                        <h2 class="section-title">ä¸Šä¼ å›¾ç‰‡</h2>
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">ğŸ“</div>
                            <p>ç‚¹å‡»æ­¤å¤„é€‰æ‹©å›¾ç‰‡æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤åŒºåŸŸ</p>
                            <p>æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼</p>
                            <input type="file" id="fileInput" accept="image/*" style="display: none;">
                        </div>

                        <div class="controls">
                            <div class="control-group">
                                <label for="radiusSlider">
                                    åœ†è§’åº¦æ•°: <span id="radiusValue" class="value-display">20</span>px
                                </label>
                                <input type="range" id="radiusSlider" min="0" max="100" value="20">
                            </div>

                            <div class="control-group">
                                <label for="sizeSlider">
                                    å›¾ç‰‡å¤§å°: <span id="sizeValue" class="value-display">100</span>%
                                </label>
                                <input type="range" id="sizeSlider" min="10" max="200" value="100">
                            </div>
                        </div>
                    </div>

                    <div class="preview-section">
                        <h2 class="section-title">é¢„è§ˆæ•ˆæœ</h2>
                        <div class="preview-container">
                            <div class="preview-box">
                                <img id="previewImage" class="preview-image" alt="åœ†è§’å›¾ç‰‡é¢„è§ˆ">
                                <p id="previewPlaceholder">è¯·å…ˆä¸Šä¼ å›¾ç‰‡</p>
                            </div>

                            <div class="actions">
                                <button id="downloadBtn" class="btn-primary" disabled>ä¸‹è½½åœ†è§’å›¾ç‰‡</button>
                                <button id="resetBtn" class="btn-secondary">é‡ç½®</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="instructions">
                <h2 class="section-title">ä½¿ç”¨è¯´æ˜</h2>
                <div class="steps">
                    <div class="step">
                        <span class="step-number">1</span>
                        <strong>ä¸Šä¼ å›¾ç‰‡</strong>
                        <p>ç‚¹å‡»ä¸Šä¼ åŒºåŸŸé€‰æ‹©æ‚¨æƒ³è¦å¤„ç†çš„å›¾ç‰‡ï¼Œæ”¯æŒå¸¸è§å›¾ç‰‡æ ¼å¼</p>
                    </div>
                    <div class="step">
                        <span class="step-number">2</span>
                        <strong>è°ƒæ•´å‚æ•°</strong>
                        <p>æ‹–åŠ¨æ»‘å—è°ƒæ•´åœ†è§’åº¦æ•°å’Œå›¾ç‰‡å¤§å°ï¼Œå®æ—¶é¢„è§ˆæ•ˆæœ</p>
                    </div>
                    <div class="step">
                        <span class="step-number">3</span>
                        <strong>ä¸‹è½½ä¿å­˜</strong>
                        <p>æ»¡æ„æ•ˆæœåç‚¹å‡»ä¸‹è½½æŒ‰é’®ï¼Œä¿å­˜åœ†è§’å›¾ç‰‡åˆ°æœ¬åœ°</p>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2026 åœ†è§’å›¾ç‰‡ç”Ÿæˆå™¨ - https://round.jinshi.group</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è·å–DOMå…ƒç´ 
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const radiusSlider = document.getElementById('radiusSlider');
            const radiusValue = document.getElementById('radiusValue');
            const sizeSlider = document.getElementById('sizeSlider');
            const sizeValue = document.getElementById('sizeValue');
            const previewImage = document.getElementById('previewImage');
            const previewPlaceholder = document.getElementById('previewPlaceholder');
            const downloadBtn = document.getElementById('downloadBtn');
            const resetBtn = document.getElementById('resetBtn');

            // äº‹ä»¶ç›‘å¬å™¨
            uploadArea.addEventListener('click', () => fileInput.click());
            fileInput.addEventListener('change', handleImageUpload);

            // æ‹–æ‹½ä¸Šä¼ åŠŸèƒ½
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#667eea';
                uploadArea.style.backgroundColor = '#f0f0ff';
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.borderColor = '#ccc';
                uploadArea.style.backgroundColor = '';
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#ccc';
                uploadArea.style.backgroundColor = '';

                if (e.dataTransfer.files.length) {
                    fileInput.files = e.dataTransfer.files;
                    handleImageUpload();
                }
            });

            // å‚æ•°è°ƒæ•´
            radiusSlider.addEventListener('input', updatePreview);
            sizeSlider.addEventListener('input', updatePreview);

            // ä¸‹è½½å’Œé‡ç½®åŠŸèƒ½
            downloadBtn.addEventListener('click', downloadImage);
            resetBtn.addEventListener('click', resetTool);

            // å¤„ç†å›¾ç‰‡ä¸Šä¼ 
            function handleImageUpload() {
                if (!fileInput.files || !fileInput.files[0]) return;

                const file = fileInput.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        // ä¿å­˜åŸå§‹å°ºå¯¸
                        previewImage.setAttribute('data-original-width', img.width);
                        previewImage.setAttribute('data-original-height', img.height);
                        
                        previewImage.src = e.target.result;
                        previewImage.style.display = 'block';
                        previewPlaceholder.style.display = 'none';
                        downloadBtn.disabled = false;
                        updatePreview();
                    };
                    img.src = e.target.result;
                };

                reader.readAsDataURL(file);
            }

            // æ›´æ–°é¢„è§ˆ
            function updatePreview() {
                const radius = radiusSlider.value;
                const size = sizeSlider.value;

                radiusValue.textContent = radius;
                sizeValue.textContent = size;

                if (previewImage.src) {
                    previewImage.style.borderRadius = `${radius}px`;
                    
                    // è·å–åŸå§‹å°ºå¯¸
                    const originalWidth = parseFloat(previewImage.getAttribute('data-original-width'));
                    const originalHeight = parseFloat(previewImage.getAttribute('data-original-height'));
                    
                    if (originalWidth && originalHeight) {
                        // å›ºå®šé¢„è§ˆå®¹å™¨çš„å°ºå¯¸å¤„ç†
                        const previewBox = document.querySelector('.preview-box');
                        const containerWidth = previewBox.clientWidth;
                        const containerHeight = previewBox.clientHeight;
                        
                        // è®¡ç®—åŸºäºå®¹å™¨çš„æœ€å¤§å°ºå¯¸
                        const scale = size / 100;
                        const maxWidth = containerWidth * scale;
                        const maxHeight = containerHeight * scale;
                        
                        // æŒ‰ç…§åŸå§‹æ¯”ä¾‹è®¡ç®—é€‚åˆçš„å°ºå¯¸
                        const aspectRatio = originalWidth / originalHeight;
                        let displayWidth = maxWidth;
                        let displayHeight = displayWidth / aspectRatio;
                        
                        // å¦‚æœé«˜åº¦è¶…è¿‡æœ€å¤§é«˜åº¦ï¼Œåˆ™ä»¥é«˜åº¦ä¸ºå‡†
                        if (displayHeight > maxHeight) {
                            displayHeight = maxHeight;
                            displayWidth = displayHeight * aspectRatio;
                        }
                        
                        // å±…ä¸­æ˜¾ç¤º
                        previewImage.style.width = displayWidth + 'px';
                        previewImage.style.height = displayHeight + 'px';
                    }
                }
            }

            // ä¸‹è½½å›¾ç‰‡
            function downloadImage() {
                if (!previewImage.src) return;

                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');

                const img = new Image();
                img.crossOrigin = 'Anonymous';
                img.onload = function() {
                    // ä½¿ç”¨åŸå§‹å›¾ç‰‡å°ºå¯¸ä»¥ä¿è¯è´¨é‡
                    canvas.width = img.width;
                    canvas.height = img.height;

                    // åˆ›å»ºåœ†è§’çŸ©å½¢è·¯å¾„
                    // è®¡ç®—ç›¸å¯¹äºåŸå§‹å›¾ç‰‡çš„åœ†è§’åŠå¾„
                    const displayRadius = parseInt(radiusSlider.value);
                    const originalDisplayWidth = parseFloat(previewImage.getAttribute('data-original-width'));
                    const scale = img.width / originalDisplayWidth;
                    const radius = displayRadius * scale;
                    
                    ctx.beginPath();
                    ctx.moveTo(radius, 0);
                    ctx.lineTo(canvas.width - radius, 0);
                    ctx.quadraticCurveTo(canvas.width, 0, canvas.width, radius);
                    ctx.lineTo(canvas.width, canvas.height - radius);
                    ctx.quadraticCurveTo(canvas.width, canvas.height, canvas.width - radius, canvas.height);
                    ctx.lineTo(radius, canvas.height);
                    ctx.quadraticCurveTo(0, canvas.height, 0, canvas.height - radius);
                    ctx.lineTo(0, radius);
                    ctx.quadraticCurveTo(0, 0, radius, 0);
                    ctx.closePath();
                    ctx.clip();

                    // ç»˜åˆ¶å›¾ç‰‡
                    ctx.drawImage(img, 0, 0);

                    // ä¸‹è½½å›¾ç‰‡
                    const link = document.createElement('a');
                    link.download = 'åœ†è§’å›¾ç‰‡.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                };

                img.src = previewImage.src;
            }

            // é‡ç½®å·¥å…·
            function resetTool() {
                fileInput.value = '';
                radiusSlider.value = 20;
                sizeSlider.value = 100;
                radiusValue.textContent = '20';
                sizeValue.textContent = '100';
                previewImage.style.display = 'none';
                previewPlaceholder.style.display = 'block';
                downloadBtn.disabled = true;
            }
        });
    </script>
</body>
</html>
